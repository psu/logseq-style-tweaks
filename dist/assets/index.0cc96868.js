var kr=Object.defineProperty;var xr=(ie,re,Ee)=>re in ie?kr(ie,re,{enumerable:!0,configurable:!0,writable:!0,value:Ee}):ie[re]=Ee;var L=(ie,re,Ee)=>(xr(ie,typeof re!="symbol"?re+"":re,Ee),Ee);(function(){const re=document.createElement("link").relList;if(re&&re.supports&&re.supports("modulepreload"))return;for(const G of document.querySelectorAll('link[rel="modulepreload"]'))De(G);new MutationObserver(G=>{for(const ke of G)if(ke.type==="childList")for(const R of ke.addedNodes)R.tagName==="LINK"&&R.rel==="modulepreload"&&De(R)}).observe(document,{childList:!0,subtree:!0});function Ee(G){const ke={};return G.integrity&&(ke.integrity=G.integrity),G.referrerpolicy&&(ke.referrerPolicy=G.referrerpolicy),G.crossorigin==="use-credentials"?ke.credentials="include":G.crossorigin==="anonymous"?ke.credentials="omit":ke.credentials="same-origin",ke}function De(G){if(G.ep)return;G.ep=!0;const ke=Ee(G);fetch(G.href,ke)}})();var ur=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wr={exports:{}};/*! For license information please see lsplugin.user.js.LICENSE.txt */(function(ie,re){(function(Ee,De){ie.exports=De()})(self,()=>(()=>{var Ee={227:(R,p,O)=>{var N=O(155);p.formatArgs=function(T){if(T[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+T[0]+(this.useColors?"%c ":" ")+"+"+R.exports.humanize(this.diff),!this.useColors)return;const U="color: "+this.color;T.splice(1,0,U,"color: inherit");let m=0,u=0;T[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(m++,g==="%c"&&(u=m))}),T.splice(u,0,U)},p.save=function(T){try{T?p.storage.setItem("debug",T):p.storage.removeItem("debug")}catch{}},p.load=function(){let T;try{T=p.storage.getItem("debug")}catch{}return!T&&N!==void 0&&"env"in N&&(T=N.env.DEBUG),T},p.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer"&&!window.process.__nwjs)||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},p.storage=function(){try{return localStorage}catch{}}(),p.destroy=(()=>{let T=!1;return()=>{T||(T=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),p.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],p.log=console.debug||console.log||(()=>{}),R.exports=O(447)(p);const{formatters:w}=R.exports;w.j=function(T){try{return JSON.stringify(T)}catch(U){return"[UnexpectedJSONParseError]: "+U.message}}},447:(R,p,O)=>{R.exports=function(N){function w(m){let u,g,y,P=null;function I(...E){if(!I.enabled)return;const H=I,A=Number(new Date),z=A-(u||A);H.diff=z,H.prev=u,H.curr=A,u=A,E[0]=w.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let i=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(s,h)=>{if(s==="%%")return"%";i++;const x=w.formatters[h];if(typeof x=="function"){const q=E[i];s=x.call(H,q),E.splice(i,1),i--}return s}),w.formatArgs.call(H,E),(H.log||w.log).apply(H,E)}return I.namespace=m,I.useColors=w.useColors(),I.color=w.selectColor(m),I.extend=T,I.destroy=w.destroy,Object.defineProperty(I,"enabled",{enumerable:!0,configurable:!1,get:()=>P!==null?P:(g!==w.namespaces&&(g=w.namespaces,y=w.enabled(m)),y),set:E=>{P=E}}),typeof w.init=="function"&&w.init(I),I}function T(m,u){const g=w(this.namespace+(u===void 0?":":u)+m);return g.log=this.log,g}function U(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}return w.debug=w,w.default=w,w.coerce=function(m){return m instanceof Error?m.stack||m.message:m},w.disable=function(){const m=[...w.names.map(U),...w.skips.map(U).map(u=>"-"+u)].join(",");return w.enable(""),m},w.enable=function(m){let u;w.save(m),w.namespaces=m,w.names=[],w.skips=[];const g=(typeof m=="string"?m:"").split(/[\s,]+/),y=g.length;for(u=0;u<y;u++)g[u]&&((m=g[u].replace(/\*/g,".*?"))[0]==="-"?w.skips.push(new RegExp("^"+m.slice(1)+"$")):w.names.push(new RegExp("^"+m+"$")))},w.enabled=function(m){if(m[m.length-1]==="*")return!0;let u,g;for(u=0,g=w.skips.length;u<g;u++)if(w.skips[u].test(m))return!1;for(u=0,g=w.names.length;u<g;u++)if(w.names[u].test(m))return!0;return!1},w.humanize=O(824),w.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(N).forEach(m=>{w[m]=N[m]}),w.names=[],w.skips=[],w.formatters={},w.selectColor=function(m){let u=0;for(let g=0;g<m.length;g++)u=(u<<5)-u+m.charCodeAt(g),u|=0;return w.colors[Math.abs(u)%w.colors.length]},w.enable(w.load()),w}},856:function(R){R.exports=function(){function p(D){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},p(D)}function O(D,_){return O=Object.setPrototypeOf||function(j,J){return j.__proto__=J,j},O(D,_)}function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(D,_,j){return w=N()?Reflect.construct:function(J,ne,Oe){var Je=[null];Je.push.apply(Je,ne);var $e=new(Function.bind.apply(J,Je));return Oe&&O($e,Oe.prototype),$e},w.apply(null,arguments)}function T(D){return function(_){if(Array.isArray(_))return U(_)}(D)||function(_){if(typeof Symbol<"u"&&_[Symbol.iterator]!=null||_["@@iterator"]!=null)return Array.from(_)}(D)||function(_,j){if(_){if(typeof _=="string")return U(_,j);var J=Object.prototype.toString.call(_).slice(8,-1);return J==="Object"&&_.constructor&&(J=_.constructor.name),J==="Map"||J==="Set"?Array.from(_):J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J)?U(_,j):void 0}}(D)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function U(D,_){(_==null||_>D.length)&&(_=D.length);for(var j=0,J=new Array(_);j<_;j++)J[j]=D[j];return J}var m=Object.hasOwnProperty,u=Object.setPrototypeOf,g=Object.isFrozen,y=Object.getPrototypeOf,P=Object.getOwnPropertyDescriptor,I=Object.freeze,E=Object.seal,H=Object.create,A=typeof Reflect<"u"&&Reflect,z=A.apply,i=A.construct;z||(z=function(D,_,j){return D.apply(_,j)}),I||(I=function(D){return D}),E||(E=function(D){return D}),i||(i=function(D,_){return w(D,T(_))});var s,h=l(Array.prototype.forEach),x=l(Array.prototype.pop),q=l(Array.prototype.push),Z=l(String.prototype.toLowerCase),te=l(String.prototype.match),se=l(String.prototype.replace),Ce=l(String.prototype.indexOf),we=l(String.prototype.trim),le=l(RegExp.prototype.test),Ge=(s=TypeError,function(){for(var D=arguments.length,_=new Array(D),j=0;j<D;j++)_[j]=arguments[j];return i(s,_)});function l(D){return function(_){for(var j=arguments.length,J=new Array(j>1?j-1:0),ne=1;ne<j;ne++)J[ne-1]=arguments[ne];return z(D,_,J)}}function d(D,_){u&&u(D,null);for(var j=_.length;j--;){var J=_[j];if(typeof J=="string"){var ne=Z(J);ne!==J&&(g(_)||(_[j]=ne),J=ne)}D[J]=!0}return D}function F(D){var _,j=H(null);for(_ in D)z(m,D,[_])&&(j[_]=D[_]);return j}function X(D,_){for(;D!==null;){var j=P(D,_);if(j){if(j.get)return l(j.get);if(typeof j.value=="function")return l(j.value)}D=y(D)}return function(J){return console.warn("fallback value for",J),null}}var _e=I(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),fe=I(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),W=I(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ce=I(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ge=I(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),be=I(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ue=I(["#text"]),Se=I(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ue=I(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Q=I(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),pe=I(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),je=E(/\{\{[\w\W]*|[\w\W]*\}\}/gm),We=E(/<%[\w\W]*|[\w\W]*%>/gm),Pe=E(/^data-[\-\w.\u00B7-\uFFFF]/),He=E(/^aria-[\-\w]+$/),pt=E(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),nt=E(/^(?:\w+script|data):/i),Ht=E(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),dr=E(/^html$/i),$t=function(){return typeof window>"u"?null:window},fr=function(D,_){if(p(D)!=="object"||typeof D.createPolicy!="function")return null;var j=null,J="data-tt-policy-suffix";_.currentScript&&_.currentScript.hasAttribute(J)&&(j=_.currentScript.getAttribute(J));var ne="dompurify"+(j?"#"+j:"");try{return D.createPolicy(ne,{createHTML:function(Oe){return Oe}})}catch{return console.warn("TrustedTypes policy "+ne+" could not be created."),null}};return function D(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$t(),j=function(o){return D(o)};if(j.version="2.3.8",j.removed=[],!_||!_.document||_.document.nodeType!==9)return j.isSupported=!1,j;var J=_.document,ne=_.document,Oe=_.DocumentFragment,Je=_.HTMLTemplateElement,$e=_.Node,qt=_.Element,wt=_.NodeFilter,ht=_.NamedNodeMap,kt=ht===void 0?_.NamedNodeMap||_.MozNamedAttrMap:ht,Bt=_.HTMLFormElement,xt=_.DOMParser,Gt=_.trustedTypes,ot=qt.prototype,Wt=X(ot,"cloneNode"),Jt=X(ot,"nextSibling"),pr=X(ot,"childNodes"),Ct=X(ot,"parentNode");if(typeof Je=="function"){var mt=ne.createElement("template");mt.content&&mt.content.ownerDocument&&(ne=mt.content.ownerDocument)}var Le=fr(Gt,J),Zt=Le?Le.createHTML(""):"",V=ne,gt=V.implementation,it=V.createNodeIterator,St=V.createDocumentFragment,Kt=V.getElementsByTagName,Vt=J.importNode,Ot={};try{Ot=F(ne).documentMode?ne.documentMode:{}}catch{}var Ae={};j.isSupported=typeof Ct=="function"&&gt&&gt.createHTMLDocument!==void 0&&Ot!==9;var at,qe,At=je,bt=We,hr=Pe,mr=He,gr=nt,Yt=Ht,yt=pt,he=null,Xt=d({},[].concat(T(_e),T(fe),T(W),T(ge),T(Ue))),ye=null,Tt=d({},[].concat(T(Se),T(ue),T(Q),T(pe))),de=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ze=null,Et=null,Qt=!0,jt=!0,er=!1,Ke=!1,Ie=!1,Ve=!1,It=!1,Ye=!1,vt=!1,st=!1,Ft=!0,Xe=!0,lt=!1,Me={},Qe=null,tr=d({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Nt=null,ze=d({},["audio","video","img","source","image","track"]),Lt=null,rr=d({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ct="http://www.w3.org/1998/Math/MathML",Mt="http://www.w3.org/2000/svg",Re="http://www.w3.org/1999/xhtml",et=Re,nr=!1,or=["application/xhtml+xml","text/html"],zt="text/html",tt=null,br=ne.createElement("form"),ir=function(o){return o instanceof RegExp||o instanceof Function},Rt=function(o){tt&&tt===o||(o&&p(o)==="object"||(o={}),o=F(o),he="ALLOWED_TAGS"in o?d({},o.ALLOWED_TAGS):Xt,ye="ALLOWED_ATTR"in o?d({},o.ALLOWED_ATTR):Tt,Lt="ADD_URI_SAFE_ATTR"in o?d(F(rr),o.ADD_URI_SAFE_ATTR):rr,Nt="ADD_DATA_URI_TAGS"in o?d(F(ze),o.ADD_DATA_URI_TAGS):ze,Qe="FORBID_CONTENTS"in o?d({},o.FORBID_CONTENTS):tr,Ze="FORBID_TAGS"in o?d({},o.FORBID_TAGS):{},Et="FORBID_ATTR"in o?d({},o.FORBID_ATTR):{},Me="USE_PROFILES"in o&&o.USE_PROFILES,Qt=o.ALLOW_ARIA_ATTR!==!1,jt=o.ALLOW_DATA_ATTR!==!1,er=o.ALLOW_UNKNOWN_PROTOCOLS||!1,Ke=o.SAFE_FOR_TEMPLATES||!1,Ie=o.WHOLE_DOCUMENT||!1,Ye=o.RETURN_DOM||!1,vt=o.RETURN_DOM_FRAGMENT||!1,st=o.RETURN_TRUSTED_TYPE||!1,It=o.FORCE_BODY||!1,Ft=o.SANITIZE_DOM!==!1,Xe=o.KEEP_CONTENT!==!1,lt=o.IN_PLACE||!1,yt=o.ALLOWED_URI_REGEXP||yt,et=o.NAMESPACE||Re,o.CUSTOM_ELEMENT_HANDLING&&ir(o.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(de.tagNameCheck=o.CUSTOM_ELEMENT_HANDLING.tagNameCheck),o.CUSTOM_ELEMENT_HANDLING&&ir(o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(de.attributeNameCheck=o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),o.CUSTOM_ELEMENT_HANDLING&&typeof o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(de.allowCustomizedBuiltInElements=o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),at=at=or.indexOf(o.PARSER_MEDIA_TYPE)===-1?zt:o.PARSER_MEDIA_TYPE,qe=at==="application/xhtml+xml"?function(C){return C}:Z,Ke&&(jt=!1),vt&&(Ye=!0),Me&&(he=d({},T(Ue)),ye=[],Me.html===!0&&(d(he,_e),d(ye,Se)),Me.svg===!0&&(d(he,fe),d(ye,ue),d(ye,pe)),Me.svgFilters===!0&&(d(he,W),d(ye,ue),d(ye,pe)),Me.mathMl===!0&&(d(he,ge),d(ye,Q),d(ye,pe))),o.ADD_TAGS&&(he===Xt&&(he=F(he)),d(he,o.ADD_TAGS)),o.ADD_ATTR&&(ye===Tt&&(ye=F(ye)),d(ye,o.ADD_ATTR)),o.ADD_URI_SAFE_ATTR&&d(Lt,o.ADD_URI_SAFE_ATTR),o.FORBID_CONTENTS&&(Qe===tr&&(Qe=F(Qe)),d(Qe,o.FORBID_CONTENTS)),Xe&&(he["#text"]=!0),Ie&&d(he,["html","head","body"]),he.table&&(d(he,["tbody"]),delete Ze.tbody),I&&I(o),tt=o)},Fe=d({},["mi","mo","mn","ms","mtext"]),ut=d({},["foreignobject","desc","title","annotation-xml"]),ar=d({},["title","style","font","a","script"]),Be=d({},fe);d(Be,W),d(Be,ce);var Dt=d({},ge);d(Dt,be);var yr=function(o){var C=Ct(o);C&&C.tagName||(C={namespaceURI:Re,tagName:"template"});var v=Z(o.tagName),K=Z(C.tagName);return o.namespaceURI===Mt?C.namespaceURI===Re?v==="svg":C.namespaceURI===ct?v==="svg"&&(K==="annotation-xml"||Fe[K]):Boolean(Be[v]):o.namespaceURI===ct?C.namespaceURI===Re?v==="math":C.namespaceURI===Mt?v==="math"&&ut[K]:Boolean(Dt[v]):o.namespaceURI===Re&&!(C.namespaceURI===Mt&&!ut[K])&&!(C.namespaceURI===ct&&!Fe[K])&&!Dt[v]&&(ar[v]||!Be[v])},Ne=function(o){q(j.removed,{element:o});try{o.parentNode.removeChild(o)}catch{try{o.outerHTML=Zt}catch{o.remove()}}},Ut=function(o,C){try{q(j.removed,{attribute:C.getAttributeNode(o),from:C})}catch{q(j.removed,{attribute:null,from:C})}if(C.removeAttribute(o),o==="is"&&!ye[o])if(Ye||vt)try{Ne(C)}catch{}else try{C.setAttribute(o,"")}catch{}},sr=function(o){var C,v;if(It)o="<remove></remove>"+o;else{var K=te(o,/^[\r\n\t ]+/);v=K&&K[0]}at==="application/xhtml+xml"&&(o='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+o+"</body></html>");var ae=Le?Le.createHTML(o):o;if(et===Re)try{C=new xt().parseFromString(ae,at)}catch{}if(!C||!C.documentElement){C=gt.createDocument(et,"template",null);try{C.documentElement.innerHTML=nr?"":ae}catch{}}var t=C.body||C.documentElement;return o&&v&&t.insertBefore(ne.createTextNode(v),t.childNodes[0]||null),et===Re?Kt.call(C,Ie?"html":"body")[0]:Ie?C.documentElement:t},_t=function(o){return it.call(o.ownerDocument||o,o,wt.SHOW_ELEMENT|wt.SHOW_COMMENT|wt.SHOW_TEXT,null,!1)},vr=function(o){return o instanceof Bt&&(typeof o.nodeName!="string"||typeof o.textContent!="string"||typeof o.removeChild!="function"||!(o.attributes instanceof kt)||typeof o.removeAttribute!="function"||typeof o.setAttribute!="function"||typeof o.namespaceURI!="string"||typeof o.insertBefore!="function")},dt=function(o){return p($e)==="object"?o instanceof $e:o&&p(o)==="object"&&typeof o.nodeType=="number"&&typeof o.nodeName=="string"},xe=function(o,C,v){Ae[o]&&h(Ae[o],function(K){K.call(j,C,v,tt)})},ft=function(o){var C;if(xe("beforeSanitizeElements",o,null),vr(o)||le(/[\u0080-\uFFFF]/,o.nodeName))return Ne(o),!0;var v=qe(o.nodeName);if(xe("uponSanitizeElement",o,{tagName:v,allowedTags:he}),o.hasChildNodes()&&!dt(o.firstElementChild)&&(!dt(o.content)||!dt(o.content.firstElementChild))&&le(/<[/\w]/g,o.innerHTML)&&le(/<[/\w]/g,o.textContent)||v==="select"&&le(/<template/i,o.innerHTML))return Ne(o),!0;if(!he[v]||Ze[v]){if(!Ze[v]&&Pt(v)&&(de.tagNameCheck instanceof RegExp&&le(de.tagNameCheck,v)||de.tagNameCheck instanceof Function&&de.tagNameCheck(v)))return!1;if(Xe&&!Qe[v]){var K=Ct(o)||o.parentNode,ae=pr(o)||o.childNodes;if(ae&&K)for(var t=ae.length-1;t>=0;--t)K.insertBefore(Wt(ae[t],!0),Jt(o))}return Ne(o),!0}return o instanceof qt&&!yr(o)?(Ne(o),!0):v!=="noscript"&&v!=="noembed"||!le(/<\/no(script|embed)/i,o.innerHTML)?(Ke&&o.nodeType===3&&(C=o.textContent,C=se(C,At," "),C=se(C,bt," "),o.textContent!==C&&(q(j.removed,{element:o.cloneNode()}),o.textContent=C)),xe("afterSanitizeElements",o,null),!1):(Ne(o),!0)},lr=function(o,C,v){if(Ft&&(C==="id"||C==="name")&&(v in ne||v in br))return!1;if(!(jt&&!Et[C]&&le(hr,C))){if(!(Qt&&le(mr,C))){if(!ye[C]||Et[C]){if(!(Pt(o)&&(de.tagNameCheck instanceof RegExp&&le(de.tagNameCheck,o)||de.tagNameCheck instanceof Function&&de.tagNameCheck(o))&&(de.attributeNameCheck instanceof RegExp&&le(de.attributeNameCheck,C)||de.attributeNameCheck instanceof Function&&de.attributeNameCheck(C))||C==="is"&&de.allowCustomizedBuiltInElements&&(de.tagNameCheck instanceof RegExp&&le(de.tagNameCheck,v)||de.tagNameCheck instanceof Function&&de.tagNameCheck(v))))return!1}else if(!Lt[C]){if(!le(yt,se(v,Yt,""))){if((C!=="src"&&C!=="xlink:href"&&C!=="href"||o==="script"||Ce(v,"data:")!==0||!Nt[o])&&!(er&&!le(gr,se(v,Yt,"")))){if(v)return!1}}}}}return!0},Pt=function(o){return o.indexOf("-")>0},cr=function(o){var C,v,K,ae;xe("beforeSanitizeAttributes",o,null);var t=o.attributes;if(t){var r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ye};for(ae=t.length;ae--;){var e=C=t[ae],n=e.name,a=e.namespaceURI;if(v=n==="value"?C.value:we(C.value),K=qe(n),r.attrName=K,r.attrValue=v,r.keepAttr=!0,r.forceKeepAttr=void 0,xe("uponSanitizeAttribute",o,r),v=r.attrValue,!r.forceKeepAttr&&(Ut(n,o),r.keepAttr))if(le(/\/>/i,v))Ut(n,o);else{Ke&&(v=se(v,At," "),v=se(v,bt," "));var c=qe(o.nodeName);if(lr(c,K,v))try{a?o.setAttributeNS(a,n,v):o.setAttribute(n,v),x(j.removed)}catch{}}}xe("afterSanitizeAttributes",o,null)}},_r=function o(C){var v,K=_t(C);for(xe("beforeSanitizeShadowDOM",C,null);v=K.nextNode();)xe("uponSanitizeShadowNode",v,null),ft(v)||(v.content instanceof Oe&&o(v.content),cr(v));xe("afterSanitizeShadowDOM",C,null)};return j.sanitize=function(o,C){var v,K,ae,t,r;if((nr=!o)&&(o="<!-->"),typeof o!="string"&&!dt(o)){if(typeof o.toString!="function")throw Ge("toString is not a function");if(typeof(o=o.toString())!="string")throw Ge("dirty is not a string, aborting")}if(!j.isSupported){if(p(_.toStaticHTML)==="object"||typeof _.toStaticHTML=="function"){if(typeof o=="string")return _.toStaticHTML(o);if(dt(o))return _.toStaticHTML(o.outerHTML)}return o}if(Ve||Rt(C),j.removed=[],typeof o=="string"&&(lt=!1),lt){if(o.nodeName){var e=qe(o.nodeName);if(!he[e]||Ze[e])throw Ge("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof $e)(K=(v=sr("<!---->")).ownerDocument.importNode(o,!0)).nodeType===1&&K.nodeName==="BODY"||K.nodeName==="HTML"?v=K:v.appendChild(K);else{if(!Ye&&!Ke&&!Ie&&o.indexOf("<")===-1)return Le&&st?Le.createHTML(o):o;if(!(v=sr(o)))return Ye?null:st?Zt:""}v&&It&&Ne(v.firstChild);for(var n=_t(lt?o:v);ae=n.nextNode();)ae.nodeType===3&&ae===t||ft(ae)||(ae.content instanceof Oe&&_r(ae.content),cr(ae),t=ae);if(t=null,lt)return o;if(Ye){if(vt)for(r=St.call(v.ownerDocument);v.firstChild;)r.appendChild(v.firstChild);else r=v;return ye.shadowroot&&(r=Vt.call(J,r,!0)),r}var a=Ie?v.outerHTML:v.innerHTML;return Ie&&he["!doctype"]&&v.ownerDocument&&v.ownerDocument.doctype&&v.ownerDocument.doctype.name&&le(dr,v.ownerDocument.doctype.name)&&(a="<!DOCTYPE "+v.ownerDocument.doctype.name+`>
`+a),Ke&&(a=se(a,At," "),a=se(a,bt," ")),Le&&st?Le.createHTML(a):a},j.setConfig=function(o){Rt(o),Ve=!0},j.clearConfig=function(){tt=null,Ve=!1},j.isValidAttribute=function(o,C,v){tt||Rt({});var K=qe(o),ae=qe(C);return lr(K,ae,v)},j.addHook=function(o,C){typeof C=="function"&&(Ae[o]=Ae[o]||[],q(Ae[o],C))},j.removeHook=function(o){if(Ae[o])return x(Ae[o])},j.removeHooks=function(o){Ae[o]&&(Ae[o]=[])},j.removeAllHooks=function(){Ae={}},j}()}()},729:R=>{var p=Object.prototype.hasOwnProperty,O="~";function N(){}function w(u,g,y){this.fn=u,this.context=g,this.once=y||!1}function T(u,g,y,P,I){if(typeof y!="function")throw new TypeError("The listener must be a function");var E=new w(y,P||u,I),H=O?O+g:g;return u._events[H]?u._events[H].fn?u._events[H]=[u._events[H],E]:u._events[H].push(E):(u._events[H]=E,u._eventsCount++),u}function U(u,g){--u._eventsCount==0?u._events=new N:delete u._events[g]}function m(){this._events=new N,this._eventsCount=0}Object.create&&(N.prototype=Object.create(null),new N().__proto__||(O=!1)),m.prototype.eventNames=function(){var u,g,y=[];if(this._eventsCount===0)return y;for(g in u=this._events)p.call(u,g)&&y.push(O?g.slice(1):g);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(u)):y},m.prototype.listeners=function(u){var g=O?O+u:u,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var P=0,I=y.length,E=new Array(I);P<I;P++)E[P]=y[P].fn;return E},m.prototype.listenerCount=function(u){var g=O?O+u:u,y=this._events[g];return y?y.fn?1:y.length:0},m.prototype.emit=function(u,g,y,P,I,E){var H=O?O+u:u;if(!this._events[H])return!1;var A,z,i=this._events[H],s=arguments.length;if(i.fn){switch(i.once&&this.removeListener(u,i.fn,void 0,!0),s){case 1:return i.fn.call(i.context),!0;case 2:return i.fn.call(i.context,g),!0;case 3:return i.fn.call(i.context,g,y),!0;case 4:return i.fn.call(i.context,g,y,P),!0;case 5:return i.fn.call(i.context,g,y,P,I),!0;case 6:return i.fn.call(i.context,g,y,P,I,E),!0}for(z=1,A=new Array(s-1);z<s;z++)A[z-1]=arguments[z];i.fn.apply(i.context,A)}else{var h,x=i.length;for(z=0;z<x;z++)switch(i[z].once&&this.removeListener(u,i[z].fn,void 0,!0),s){case 1:i[z].fn.call(i[z].context);break;case 2:i[z].fn.call(i[z].context,g);break;case 3:i[z].fn.call(i[z].context,g,y);break;case 4:i[z].fn.call(i[z].context,g,y,P);break;default:if(!A)for(h=1,A=new Array(s-1);h<s;h++)A[h-1]=arguments[h];i[z].fn.apply(i[z].context,A)}}return!0},m.prototype.on=function(u,g,y){return T(this,u,g,y,!1)},m.prototype.once=function(u,g,y){return T(this,u,g,y,!0)},m.prototype.removeListener=function(u,g,y,P){var I=O?O+u:u;if(!this._events[I])return this;if(!g)return U(this,I),this;var E=this._events[I];if(E.fn)E.fn!==g||P&&!E.once||y&&E.context!==y||U(this,I);else{for(var H=0,A=[],z=E.length;H<z;H++)(E[H].fn!==g||P&&!E[H].once||y&&E[H].context!==y)&&A.push(E[H]);A.length?this._events[I]=A.length===1?A[0]:A:U(this,I)}return this},m.prototype.removeAllListeners=function(u){var g;return u?(g=O?O+u:u,this._events[g]&&U(this,g)):(this._events=new N,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=O,m.EventEmitter=m,R.exports=m},824:R=>{var p=1e3,O=60*p,N=60*O,w=24*N;function T(U,m,u,g){var y=m>=1.5*u;return Math.round(U/u)+" "+g+(y?"s":"")}R.exports=function(U,m){m=m||{};var u,g,y=typeof U;if(y==="string"&&U.length>0)return function(P){if(!((P=String(P)).length>100)){var I=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(P);if(I){var E=parseFloat(I[1]);switch((I[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*E;case"weeks":case"week":case"w":return 6048e5*E;case"days":case"day":case"d":return E*w;case"hours":case"hour":case"hrs":case"hr":case"h":return E*N;case"minutes":case"minute":case"mins":case"min":case"m":return E*O;case"seconds":case"second":case"secs":case"sec":case"s":return E*p;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return E;default:return}}}}(U);if(y==="number"&&isFinite(U))return m.long?(u=U,(g=Math.abs(u))>=w?T(u,g,w,"day"):g>=N?T(u,g,N,"hour"):g>=O?T(u,g,O,"minute"):g>=p?T(u,g,p,"second"):u+" ms"):function(P){var I=Math.abs(P);return I>=w?Math.round(P/w)+"d":I>=N?Math.round(P/N)+"h":I>=O?Math.round(P/O)+"m":I>=p?Math.round(P/p)+"s":P+"ms"}(U);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(U))}},520:(R,p,O)=>{var N=O(155),w=N.platform==="win32",T=O(539);function U(i,s){for(var h=[],x=0;x<i.length;x++){var q=i[x];q&&q!=="."&&(q===".."?h.length&&h[h.length-1]!==".."?h.pop():s&&h.push(".."):h.push(q))}return h}function m(i){for(var s=i.length-1,h=0;h<=s&&!i[h];h++);for(var x=s;x>=0&&!i[x];x--);return h===0&&x===s?i:h>x?[]:i.slice(h,x+1)}var u=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,g=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,y={};function P(i){var s=u.exec(i),h=(s[1]||"")+(s[2]||""),x=s[3]||"",q=g.exec(x);return[h,q[1],q[2],q[3]]}function I(i){var s=u.exec(i),h=s[1]||"",x=!!h&&h[1]!==":";return{device:h,isUnc:x,isAbsolute:x||!!s[2],tail:s[3]}}function E(i){return"\\\\"+i.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}y.resolve=function(){for(var i="",s="",h=!1,x=arguments.length-1;x>=-1;x--){var q;if(x>=0?q=arguments[x]:i?(q=N.env["="+i])&&q.substr(0,3).toLowerCase()===i.toLowerCase()+"\\"||(q=i+"\\"):q=N.cwd(),!T.isString(q))throw new TypeError("Arguments to path.resolve must be strings");if(q){var Z=I(q),te=Z.device,se=Z.isUnc,Ce=Z.isAbsolute,we=Z.tail;if((!te||!i||te.toLowerCase()===i.toLowerCase())&&(i||(i=te),h||(s=we+"\\"+s,h=Ce),i&&h))break}}return se&&(i=E(i)),i+(h?"\\":"")+(s=U(s.split(/[\\\/]+/),!h).join("\\"))||"."},y.normalize=function(i){var s=I(i),h=s.device,x=s.isUnc,q=s.isAbsolute,Z=s.tail,te=/[\\\/]$/.test(Z);return(Z=U(Z.split(/[\\\/]+/),!q).join("\\"))||q||(Z="."),Z&&te&&(Z+="\\"),x&&(h=E(h)),h+(q?"\\":"")+Z},y.isAbsolute=function(i){return I(i).isAbsolute},y.join=function(){for(var i=[],s=0;s<arguments.length;s++){var h=arguments[s];if(!T.isString(h))throw new TypeError("Arguments to path.join must be strings");h&&i.push(h)}var x=i.join("\\");return/^[\\\/]{2}[^\\\/]/.test(i[0])||(x=x.replace(/^[\\\/]{2,}/,"\\")),y.normalize(x)},y.relative=function(i,s){i=y.resolve(i),s=y.resolve(s);for(var h=i.toLowerCase(),x=s.toLowerCase(),q=m(s.split("\\")),Z=m(h.split("\\")),te=m(x.split("\\")),se=Math.min(Z.length,te.length),Ce=se,we=0;we<se;we++)if(Z[we]!==te[we]){Ce=we;break}if(Ce==0)return s;var le=[];for(we=Ce;we<Z.length;we++)le.push("..");return(le=le.concat(q.slice(Ce))).join("\\")},y._makeLong=function(i){if(!T.isString(i))return i;if(!i)return"";var s=y.resolve(i);return/^[a-zA-Z]\:\\/.test(s)?"\\\\?\\"+s:/^\\\\[^?.]/.test(s)?"\\\\?\\UNC\\"+s.substring(2):i},y.dirname=function(i){var s=P(i),h=s[0],x=s[1];return h||x?(x&&(x=x.substr(0,x.length-1)),h+x):"."},y.basename=function(i,s){var h=P(i)[2];return s&&h.substr(-1*s.length)===s&&(h=h.substr(0,h.length-s.length)),h},y.extname=function(i){return P(i)[3]},y.format=function(i){if(!T.isObject(i))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof i);var s=i.root||"";if(!T.isString(s))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof i.root);var h=i.dir,x=i.base||"";return h?h[h.length-1]===y.sep?h+x:h+y.sep+x:x},y.parse=function(i){if(!T.isString(i))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof i);var s=P(i);if(!s||s.length!==4)throw new TypeError("Invalid path '"+i+"'");return{root:s[0],dir:s[0]+s[1].slice(0,-1),base:s[2],ext:s[3],name:s[2].slice(0,s[2].length-s[3].length)}},y.sep="\\",y.delimiter=";";var H=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,A={};function z(i){return H.exec(i).slice(1)}A.resolve=function(){for(var i="",s=!1,h=arguments.length-1;h>=-1&&!s;h--){var x=h>=0?arguments[h]:N.cwd();if(!T.isString(x))throw new TypeError("Arguments to path.resolve must be strings");x&&(i=x+"/"+i,s=x[0]==="/")}return(s?"/":"")+(i=U(i.split("/"),!s).join("/"))||"."},A.normalize=function(i){var s=A.isAbsolute(i),h=i&&i[i.length-1]==="/";return(i=U(i.split("/"),!s).join("/"))||s||(i="."),i&&h&&(i+="/"),(s?"/":"")+i},A.isAbsolute=function(i){return i.charAt(0)==="/"},A.join=function(){for(var i="",s=0;s<arguments.length;s++){var h=arguments[s];if(!T.isString(h))throw new TypeError("Arguments to path.join must be strings");h&&(i+=i?"/"+h:h)}return A.normalize(i)},A.relative=function(i,s){i=A.resolve(i).substr(1),s=A.resolve(s).substr(1);for(var h=m(i.split("/")),x=m(s.split("/")),q=Math.min(h.length,x.length),Z=q,te=0;te<q;te++)if(h[te]!==x[te]){Z=te;break}var se=[];for(te=Z;te<h.length;te++)se.push("..");return(se=se.concat(x.slice(Z))).join("/")},A._makeLong=function(i){return i},A.dirname=function(i){var s=z(i),h=s[0],x=s[1];return h||x?(x&&(x=x.substr(0,x.length-1)),h+x):"."},A.basename=function(i,s){var h=z(i)[2];return s&&h.substr(-1*s.length)===s&&(h=h.substr(0,h.length-s.length)),h},A.extname=function(i){return z(i)[3]},A.format=function(i){if(!T.isObject(i))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof i);var s=i.root||"";if(!T.isString(s))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof i.root);return(i.dir?i.dir+A.sep:"")+(i.base||"")},A.parse=function(i){if(!T.isString(i))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof i);var s=z(i);if(!s||s.length!==4)throw new TypeError("Invalid path '"+i+"'");return s[1]=s[1]||"",s[2]=s[2]||"",s[3]=s[3]||"",{root:s[0],dir:s[0]+s[1].slice(0,-1),base:s[2],ext:s[3],name:s[2].slice(0,s[2].length-s[3].length)}},A.sep="/",A.delimiter=":",R.exports=w?y:A,R.exports.posix=A,R.exports.win32=y},155:R=>{var p,O,N=R.exports={};function w(){throw new Error("setTimeout has not been defined")}function T(){throw new Error("clearTimeout has not been defined")}function U(A){if(p===setTimeout)return setTimeout(A,0);if((p===w||!p)&&setTimeout)return p=setTimeout,setTimeout(A,0);try{return p(A,0)}catch{try{return p.call(null,A,0)}catch{return p.call(this,A,0)}}}(function(){try{p=typeof setTimeout=="function"?setTimeout:w}catch{p=w}try{O=typeof clearTimeout=="function"?clearTimeout:T}catch{O=T}})();var m,u=[],g=!1,y=-1;function P(){g&&m&&(g=!1,m.length?u=m.concat(u):y=-1,u.length&&I())}function I(){if(!g){var A=U(P);g=!0;for(var z=u.length;z;){for(m=u,u=[];++y<z;)m&&m[y].run();y=-1,z=u.length}m=null,g=!1,function(i){if(O===clearTimeout)return clearTimeout(i);if((O===T||!O)&&clearTimeout)return O=clearTimeout,clearTimeout(i);try{O(i)}catch{try{return O.call(null,i)}catch{return O.call(this,i)}}}(A)}}function E(A,z){this.fun=A,this.array=z}function H(){}N.nextTick=function(A){var z=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)z[i-1]=arguments[i];u.push(new E(A,z)),u.length!==1||g||U(I)},E.prototype.run=function(){this.fun.apply(null,this.array)},N.title="browser",N.browser=!0,N.env={},N.argv=[],N.version="",N.versions={},N.on=H,N.addListener=H,N.once=H,N.off=H,N.removeListener=H,N.removeAllListeners=H,N.emit=H,N.prependListener=H,N.prependOnceListener=H,N.listeners=function(A){return[]},N.binding=function(A){throw new Error("process.binding is not supported")},N.cwd=function(){return"/"},N.chdir=function(A){throw new Error("process.chdir is not supported")},N.umask=function(){return 0}},496:R=>{typeof Object.create=="function"?R.exports=function(p,O){p.super_=O,p.prototype=Object.create(O.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}})}:R.exports=function(p,O){p.super_=O;var N=function(){};N.prototype=O.prototype,p.prototype=new N,p.prototype.constructor=p}},384:R=>{R.exports=function(p){return p&&typeof p=="object"&&typeof p.copy=="function"&&typeof p.fill=="function"&&typeof p.readUInt8=="function"}},539:(R,p,O)=>{var N=O(155),w=/%[sdj%]/g;p.format=function(l){if(!i(l)){for(var d=[],F=0;F<arguments.length;F++)d.push(m(arguments[F]));return d.join(" ")}F=1;for(var X=arguments,_e=X.length,fe=String(l).replace(w,function(ce){if(ce==="%%")return"%";if(F>=_e)return ce;switch(ce){case"%s":return String(X[F++]);case"%d":return Number(X[F++]);case"%j":try{return JSON.stringify(X[F++])}catch{return"[Circular]"}default:return ce}}),W=X[F];F<_e;W=X[++F])A(W)||!x(W)?fe+=" "+W:fe+=" "+m(W);return fe},p.deprecate=function(l,d){if(s(O.g.process))return function(){return p.deprecate(l,d).apply(this,arguments)};if(N.noDeprecation===!0)return l;var F=!1;return function(){if(!F){if(N.throwDeprecation)throw new Error(d);N.traceDeprecation?console.trace(d):console.error(d),F=!0}return l.apply(this,arguments)}};var T,U={};function m(l,d){var F={seen:[],stylize:g};return arguments.length>=3&&(F.depth=arguments[2]),arguments.length>=4&&(F.colors=arguments[3]),H(d)?F.showHidden=d:d&&p._extend(F,d),s(F.showHidden)&&(F.showHidden=!1),s(F.depth)&&(F.depth=2),s(F.colors)&&(F.colors=!1),s(F.customInspect)&&(F.customInspect=!0),F.colors&&(F.stylize=u),y(F,l,F.depth)}function u(l,d){var F=m.styles[d];return F?"\x1B["+m.colors[F][0]+"m"+l+"\x1B["+m.colors[F][1]+"m":l}function g(l,d){return l}function y(l,d,F){if(l.customInspect&&d&&te(d.inspect)&&d.inspect!==p.inspect&&(!d.constructor||d.constructor.prototype!==d)){var X=d.inspect(F,l);return i(X)||(X=y(l,X,F)),X}var _e=function(ue,Q){if(s(Q))return ue.stylize("undefined","undefined");if(i(Q)){var pe="'"+JSON.stringify(Q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ue.stylize(pe,"string")}return z(Q)?ue.stylize(""+Q,"number"):H(Q)?ue.stylize(""+Q,"boolean"):A(Q)?ue.stylize("null","null"):void 0}(l,d);if(_e)return _e;var fe=Object.keys(d),W=function(ue){var Q={};return ue.forEach(function(pe,je){Q[pe]=!0}),Q}(fe);if(l.showHidden&&(fe=Object.getOwnPropertyNames(d)),Z(d)&&(fe.indexOf("message")>=0||fe.indexOf("description")>=0))return P(d);if(fe.length===0){if(te(d)){var ce=d.name?": "+d.name:"";return l.stylize("[Function"+ce+"]","special")}if(h(d))return l.stylize(RegExp.prototype.toString.call(d),"regexp");if(q(d))return l.stylize(Date.prototype.toString.call(d),"date");if(Z(d))return P(d)}var ge,be="",Ue=!1,Se=["{","}"];return E(d)&&(Ue=!0,Se=["[","]"]),te(d)&&(be=" [Function"+(d.name?": "+d.name:"")+"]"),h(d)&&(be=" "+RegExp.prototype.toString.call(d)),q(d)&&(be=" "+Date.prototype.toUTCString.call(d)),Z(d)&&(be=" "+P(d)),fe.length!==0||Ue&&d.length!=0?F<0?h(d)?l.stylize(RegExp.prototype.toString.call(d),"regexp"):l.stylize("[Object]","special"):(l.seen.push(d),ge=Ue?function(ue,Q,pe,je,We){for(var Pe=[],He=0,pt=Q.length;He<pt;++He)Ge(Q,String(He))?Pe.push(I(ue,Q,pe,je,String(He),!0)):Pe.push("");return We.forEach(function(nt){nt.match(/^\d+$/)||Pe.push(I(ue,Q,pe,je,nt,!0))}),Pe}(l,d,F,W,fe):fe.map(function(ue){return I(l,d,F,W,ue,Ue)}),l.seen.pop(),function(ue,Q,pe){return ue.reduce(function(je,We){return We.indexOf(`
`),je+We.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?pe[0]+(Q===""?"":Q+`
 `)+" "+ue.join(`,
  `)+" "+pe[1]:pe[0]+Q+" "+ue.join(", ")+" "+pe[1]}(ge,be,Se)):Se[0]+be+Se[1]}function P(l){return"["+Error.prototype.toString.call(l)+"]"}function I(l,d,F,X,_e,fe){var W,ce,ge;if((ge=Object.getOwnPropertyDescriptor(d,_e)||{value:d[_e]}).get?ce=ge.set?l.stylize("[Getter/Setter]","special"):l.stylize("[Getter]","special"):ge.set&&(ce=l.stylize("[Setter]","special")),Ge(X,_e)||(W="["+_e+"]"),ce||(l.seen.indexOf(ge.value)<0?(ce=A(F)?y(l,ge.value,null):y(l,ge.value,F-1)).indexOf(`
`)>-1&&(ce=fe?ce.split(`
`).map(function(be){return"  "+be}).join(`
`).substr(2):`
`+ce.split(`
`).map(function(be){return"   "+be}).join(`
`)):ce=l.stylize("[Circular]","special")),s(W)){if(fe&&_e.match(/^\d+$/))return ce;(W=JSON.stringify(""+_e)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(W=W.substr(1,W.length-2),W=l.stylize(W,"name")):(W=W.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),W=l.stylize(W,"string"))}return W+": "+ce}function E(l){return Array.isArray(l)}function H(l){return typeof l=="boolean"}function A(l){return l===null}function z(l){return typeof l=="number"}function i(l){return typeof l=="string"}function s(l){return l===void 0}function h(l){return x(l)&&se(l)==="[object RegExp]"}function x(l){return typeof l=="object"&&l!==null}function q(l){return x(l)&&se(l)==="[object Date]"}function Z(l){return x(l)&&(se(l)==="[object Error]"||l instanceof Error)}function te(l){return typeof l=="function"}function se(l){return Object.prototype.toString.call(l)}function Ce(l){return l<10?"0"+l.toString(10):l.toString(10)}p.debuglog=function(l){if(s(T)&&(T=N.env.NODE_DEBUG||""),l=l.toUpperCase(),!U[l])if(new RegExp("\\b"+l+"\\b","i").test(T)){var d=N.pid;U[l]=function(){var F=p.format.apply(p,arguments);console.error("%s %d: %s",l,d,F)}}else U[l]=function(){};return U[l]},p.inspect=m,m.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},m.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},p.isArray=E,p.isBoolean=H,p.isNull=A,p.isNullOrUndefined=function(l){return l==null},p.isNumber=z,p.isString=i,p.isSymbol=function(l){return typeof l=="symbol"},p.isUndefined=s,p.isRegExp=h,p.isObject=x,p.isDate=q,p.isError=Z,p.isFunction=te,p.isPrimitive=function(l){return l===null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||typeof l=="symbol"||l===void 0},p.isBuffer=O(384);var we=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function le(){var l=new Date,d=[Ce(l.getHours()),Ce(l.getMinutes()),Ce(l.getSeconds())].join(":");return[l.getDate(),we[l.getMonth()],d].join(" ")}function Ge(l,d){return Object.prototype.hasOwnProperty.call(l,d)}p.log=function(){console.log("%s - %s",le(),p.format.apply(p,arguments))},p.inherits=O(496),p._extend=function(l,d){if(!d||!x(d))return l;for(var F=Object.keys(d),X=F.length;X--;)l[F[X]]=d[F[X]];return l}}},De={};function G(R){var p=De[R];if(p!==void 0)return p.exports;var O=De[R]={exports:{}};return Ee[R].call(O.exports,O,O.exports,G),O.exports}G.n=R=>{var p=R&&R.__esModule?()=>R.default:()=>R;return G.d(p,{a:p}),p},G.d=(R,p)=>{for(var O in p)G.o(p,O)&&!G.o(R,O)&&Object.defineProperty(R,O,{enumerable:!0,get:p[O]})},G.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),G.o=(R,p)=>Object.prototype.hasOwnProperty.call(R,p),G.r=R=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(R,"__esModule",{value:!0})};var ke={};return(()=>{G.r(ke),G.d(ke,{LSPluginUser:()=>K,setupPluginUserInstance:()=>ae});var R=G(520);G(856);const p=function(t,r){return t===r||t!=t&&r!=r},O=function(t,r){for(var e=t.length;e--;)if(p(t[e][0],r))return e;return-1};var N=Array.prototype.splice;function w(t){var r=-1,e=t==null?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}w.prototype.clear=function(){this.__data__=[],this.size=0},w.prototype.delete=function(t){var r=this.__data__,e=O(r,t);return!(e<0||(e==r.length-1?r.pop():N.call(r,e,1),--this.size,0))},w.prototype.get=function(t){var r=this.__data__,e=O(r,t);return e<0?void 0:r[e][1]},w.prototype.has=function(t){return O(this.__data__,t)>-1},w.prototype.set=function(t,r){var e=this.__data__,n=O(e,t);return n<0?(++this.size,e.push([t,r])):e[n][1]=r,this};const T=w,U=typeof ur=="object"&&ur&&ur.Object===Object&&ur;var m=typeof self=="object"&&self&&self.Object===Object&&self;const u=U||m||Function("return this")(),g=u.Symbol;var y=Object.prototype,P=y.hasOwnProperty,I=y.toString,E=g?g.toStringTag:void 0,H=Object.prototype.toString,A=g?g.toStringTag:void 0;const z=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":A&&A in Object(t)?function(r){var e=P.call(r,E),n=r[E];try{r[E]=void 0;var a=!0}catch{}var c=I.call(r);return a&&(e?r[E]=n:delete r[E]),c}(t):function(r){return H.call(r)}(t)},i=function(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")},s=function(t){if(!i(t))return!1;var r=z(t);return r=="[object Function]"||r=="[object GeneratorFunction]"||r=="[object AsyncFunction]"||r=="[object Proxy]"},h=u["__core-js_shared__"];var x,q=(x=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",Z=Function.prototype.toString,te=/^\[object .+?Constructor\]$/,se=Function.prototype,Ce=Object.prototype,we=se.toString,le=Ce.hasOwnProperty,Ge=RegExp("^"+we.call(le).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const l=function(t){return!(!i(t)||(r=t,q&&q in r))&&(s(t)?Ge:te).test(function(e){if(e!=null){try{return Z.call(e)}catch{}try{return e+""}catch{}}return""}(t));var r},d=function(t,r){var e=function(n,a){return n==null?void 0:n[a]}(t,r);return l(e)?e:void 0},F=d(u,"Map"),X=d(Object,"create");var _e=Object.prototype.hasOwnProperty,fe=Object.prototype.hasOwnProperty;function W(t){var r=-1,e=t==null?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}W.prototype.clear=function(){this.__data__=X?X(null):{},this.size=0},W.prototype.delete=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},W.prototype.get=function(t){var r=this.__data__;if(X){var e=r[t];return e==="__lodash_hash_undefined__"?void 0:e}return _e.call(r,t)?r[t]:void 0},W.prototype.has=function(t){var r=this.__data__;return X?r[t]!==void 0:fe.call(r,t)},W.prototype.set=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=X&&r===void 0?"__lodash_hash_undefined__":r,this};const ce=W,ge=function(t,r){var e,n,a=t.__data__;return((n=typeof(e=r))=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null)?a[typeof r=="string"?"string":"hash"]:a.map};function be(t){var r=-1,e=t==null?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}be.prototype.clear=function(){this.size=0,this.__data__={hash:new ce,map:new(F||T),string:new ce}},be.prototype.delete=function(t){var r=ge(this,t).delete(t);return this.size-=r?1:0,r},be.prototype.get=function(t){return ge(this,t).get(t)},be.prototype.has=function(t){return ge(this,t).has(t)},be.prototype.set=function(t,r){var e=ge(this,t),n=e.size;return e.set(t,r),this.size+=e.size==n?0:1,this};const Ue=be;function Se(t){var r=this.__data__=new T(t);this.size=r.size}Se.prototype.clear=function(){this.__data__=new T,this.size=0},Se.prototype.delete=function(t){var r=this.__data__,e=r.delete(t);return this.size=r.size,e},Se.prototype.get=function(t){return this.__data__.get(t)},Se.prototype.has=function(t){return this.__data__.has(t)},Se.prototype.set=function(t,r){var e=this.__data__;if(e instanceof T){var n=e.__data__;if(!F||n.length<199)return n.push([t,r]),this.size=++e.size,this;e=this.__data__=new Ue(n)}return e.set(t,r),this.size=e.size,this};const ue=Se,Q=function(){try{var t=d(Object,"defineProperty");return t({},"",{}),t}catch{}}(),pe=function(t,r,e){r=="__proto__"&&Q?Q(t,r,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[r]=e},je=function(t,r,e){(e!==void 0&&!p(t[r],e)||e===void 0&&!(r in t))&&pe(t,r,e)},We=function(t,r,e){for(var n=-1,a=Object(t),c=e(t),f=c.length;f--;){var b=c[++n];if(r(a[b],b,a)===!1)break}return t};var Pe=re&&!re.nodeType&&re,He=Pe&&!0&&ie&&!ie.nodeType&&ie,pt=He&&He.exports===Pe?u.Buffer:void 0,nt=pt?pt.allocUnsafe:void 0;const Ht=u.Uint8Array,dr=function(t,r){var e,n,a=r?(e=t.buffer,n=new e.constructor(e.byteLength),new Ht(n).set(new Ht(e)),n):t.buffer;return new t.constructor(a,t.byteOffset,t.length)};var $t=Object.create;const fr=function(){function t(){}return function(r){if(!i(r))return{};if($t)return $t(r);t.prototype=r;var e=new t;return t.prototype=void 0,e}}(),D=(_=Object.getPrototypeOf,j=Object,function(t){return _(j(t))});var _,j,J=Object.prototype;const ne=function(t){var r=t&&t.constructor;return t===(typeof r=="function"&&r.prototype||J)},Oe=function(t){return t!=null&&typeof t=="object"},Je=function(t){return Oe(t)&&z(t)=="[object Arguments]"};var $e=Object.prototype,qt=$e.hasOwnProperty,wt=$e.propertyIsEnumerable;const ht=Je(function(){return arguments}())?Je:function(t){return Oe(t)&&qt.call(t,"callee")&&!wt.call(t,"callee")},kt=Array.isArray,Bt=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},xt=function(t){return t!=null&&Bt(t.length)&&!s(t)};var Gt=re&&!re.nodeType&&re,ot=Gt&&!0&&ie&&!ie.nodeType&&ie,Wt=ot&&ot.exports===Gt?u.Buffer:void 0;const Jt=(Wt?Wt.isBuffer:void 0)||function(){return!1};var pr=Function.prototype,Ct=Object.prototype,mt=pr.toString,Le=Ct.hasOwnProperty,Zt=mt.call(Object),V={};V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0,V["[object Arguments]"]=V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object Boolean]"]=V["[object DataView]"]=V["[object Date]"]=V["[object Error]"]=V["[object Function]"]=V["[object Map]"]=V["[object Number]"]=V["[object Object]"]=V["[object RegExp]"]=V["[object Set]"]=V["[object String]"]=V["[object WeakMap]"]=!1;var gt=re&&!re.nodeType&&re,it=gt&&!0&&ie&&!ie.nodeType&&ie,St=it&&it.exports===gt&&U.process,Kt=function(){try{return it&&it.require&&it.require("util").types||St&&St.binding&&St.binding("util")}catch{}}(),Vt=Kt&&Kt.isTypedArray;const Ot=Vt?function(t){return function(r){return t(r)}}(Vt):function(t){return Oe(t)&&Bt(t.length)&&!!V[z(t)]},Ae=function(t,r){if((r!=="constructor"||typeof t[r]!="function")&&r!="__proto__")return t[r]};var at=Object.prototype.hasOwnProperty;const qe=function(t,r,e){var n=t[r];at.call(t,r)&&p(n,e)&&(e!==void 0||r in t)||pe(t,r,e)};var At=/^(?:0|[1-9]\d*)$/;const bt=function(t,r){var e=typeof t;return!!(r=r==null?9007199254740991:r)&&(e=="number"||e!="symbol"&&At.test(t))&&t>-1&&t%1==0&&t<r};var hr=Object.prototype.hasOwnProperty;const mr=function(t,r){var e=kt(t),n=!e&&ht(t),a=!e&&!n&&Jt(t),c=!e&&!n&&!a&&Ot(t),f=e||n||a||c,b=f?function(me,$){for(var M=-1,B=Array(me);++M<me;)B[M]=$(M);return B}(t.length,String):[],k=b.length;for(var S in t)!r&&!hr.call(t,S)||f&&(S=="length"||a&&(S=="offset"||S=="parent")||c&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||bt(S,k))||b.push(S);return b};var gr=Object.prototype.hasOwnProperty;const Yt=function(t){if(!i(t))return function(a){var c=[];if(a!=null)for(var f in Object(a))c.push(f);return c}(t);var r=ne(t),e=[];for(var n in t)(n!="constructor"||!r&&gr.call(t,n))&&e.push(n);return e},yt=function(t){return xt(t)?mr(t,!0):Yt(t)},he=function(t){return function(r,e,n,a){var c=!n;n||(n={});for(var f=-1,b=e.length;++f<b;){var k=e[f],S=a?a(n[k],r[k],k,n,r):void 0;S===void 0&&(S=r[k]),c?pe(n,k,S):qe(n,k,S)}return n}(t,yt(t))},Xt=function(t,r,e,n,a,c,f){var b,k=Ae(t,e),S=Ae(r,e),me=f.get(S);if(me)je(t,e,me);else{var $=c?c(k,S,e+"",t,r,f):void 0,M=$===void 0;if(M){var B=kt(S),ee=!B&&Jt(S),oe=!B&&!ee&&Ot(S);$=S,B||ee||oe?kt(k)?$=k:Oe(b=k)&&xt(b)?$=function(Y,ve){var Te=-1,rt=Y.length;for(ve||(ve=Array(rt));++Te<rt;)ve[Te]=Y[Te];return ve}(k):ee?(M=!1,$=function(Y,ve){if(ve)return Y.slice();var Te=Y.length,rt=nt?nt(Te):new Y.constructor(Te);return Y.copy(rt),rt}(S,!0)):oe?(M=!1,$=dr(S,!0)):$=[]:function(Y){if(!Oe(Y)||z(Y)!="[object Object]")return!1;var ve=D(Y);if(ve===null)return!0;var Te=Le.call(ve,"constructor")&&ve.constructor;return typeof Te=="function"&&Te instanceof Te&&mt.call(Te)==Zt}(S)||ht(S)?($=k,ht(k)?$=he(k):i(k)&&!s(k)||($=function(Y){return typeof Y.constructor!="function"||ne(Y)?{}:fr(D(Y))}(S))):M=!1}M&&(f.set(S,$),a($,S,n,c,f),f.delete(S)),je(t,e,$)}},ye=function t(r,e,n,a,c){r!==e&&We(e,function(f,b){if(c||(c=new ue),i(f))Xt(r,e,b,n,t,a,c);else{var k=a?a(Ae(r,b),f,b+"",r,e,c):void 0;k===void 0&&(k=f),je(r,b,k)}},yt)},Tt=function(t){return t},de=function(t,r,e){switch(e.length){case 0:return t.call(r);case 1:return t.call(r,e[0]);case 2:return t.call(r,e[0],e[1]);case 3:return t.call(r,e[0],e[1],e[2])}return t.apply(r,e)};var Ze=Math.max;const Et=Q?function(t,r){return Q(t,"toString",{configurable:!0,enumerable:!1,value:(e=r,function(){return e}),writable:!0});var e}:Tt;var Qt=Date.now;const jt=function(t){var r=0,e=0;return function(){var n=Qt(),a=16-(n-e);if(e=n,a>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}(Et),er=function(t,r){return jt(function(e,n,a){return n=Ze(n===void 0?e.length-1:n,0),function(){for(var c=arguments,f=-1,b=Ze(c.length-n,0),k=Array(b);++f<b;)k[f]=c[n+f];f=-1;for(var S=Array(n+1);++f<n;)S[f]=c[f];return S[n]=a(k),de(e,this,S)}}(t,r,Tt),t+"")},Ke=(Ie=function(t,r,e){ye(t,r,e)},er(function(t,r){var e=-1,n=r.length,a=n>1?r[n-1]:void 0,c=n>2?r[2]:void 0;for(a=Ie.length>3&&typeof a=="function"?(n--,a):void 0,c&&function(b,k,S){if(!i(S))return!1;var me=typeof k;return!!(me=="number"?xt(S)&&bt(k,S.length):me=="string"&&k in S)&&p(S[k],b)}(r[0],r[1],c)&&(a=n<3?void 0:a,n=1),t=Object(t);++e<n;){var f=r[e];f&&Ie(t,f,e)}return t}));var Ie,Ve=function(){return Ve=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);return t},Ve.apply(this,arguments)};function It(t){return t.toLowerCase()}var Ye=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],vt=/[^A-Z0-9]+/gi;function st(t,r,e){return r instanceof RegExp?t.replace(r,e):r.reduce(function(n,a){return n.replace(a,e)},t)}const Ft=navigator.platform.toLowerCase()==="win32"?R.win32:R.posix,Xe=function(t,r){return r===void 0&&(r={}),function(e,n){return n===void 0&&(n={}),function(a,c){c===void 0&&(c={});for(var f=c.splitRegexp,b=f===void 0?Ye:f,k=c.stripRegexp,S=k===void 0?vt:k,me=c.transform,$=me===void 0?It:me,M=c.delimiter,B=M===void 0?" ":M,ee=st(st(a,b,"$1\0$2"),S,"\0"),oe=0,Y=ee.length;ee.charAt(oe)==="\0";)oe++;for(;ee.charAt(Y-1)==="\0";)Y--;return ee.slice(oe,Y).split("\0").map($).join(B)}(e,Ve({delimiter:"."},n))}(t,Ve({delimiter:"_"},r))},lt=Ke;function Me(t,r){let e,n,a=!1;const c=b=>k=>{t&&clearTimeout(t),b(k),a=!0},f=new Promise((b,k)=>{e=c(b),n=c(k),t&&(t=setTimeout(()=>n(new Error(`[deferred timeout] ${r}`)),t))});return{created:Date.now(),setTag:b=>r=b,resolve:e,reject:n,promise:f,get settled(){return a}}}const Qe=new Map;window.__injectedUIEffects=Qe;var tr=G(227),Nt=G.n(tr);const ze="application/x-postmate-v1+json";let Lt=0;const rr={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},ct=(t,r)=>!(typeof r=="string"&&t.origin!==r||!t.data||typeof t.data=="object"&&!("postmate"in t.data)||t.data.type!==ze||!rr[t.data.postmate]);class Mt{constructor(r){L(this,"parent");L(this,"frame");L(this,"child");L(this,"events",{});L(this,"childOrigin");L(this,"listener");this.parent=r.parent,this.frame=r.frame,this.child=r.child,this.childOrigin=r.childOrigin,this.listener=e=>{if(!ct(e,this.childOrigin))return!1;const{data:n,name:a}=((e||{}).data||{}).value||{};e.data.postmate==="emit"&&a in this.events&&this.events[a].forEach(c=>{c.call(this,n)})},this.parent.addEventListener("message",this.listener,!1)}get(r){return new Promise(e=>{const n=++Lt,a=c=>{c.data.uid===n&&c.data.postmate==="reply"&&(this.parent.removeEventListener("message",a,!1),e(c.data.value))};this.parent.addEventListener("message",a,!1),this.child.postMessage({postmate:"request",type:ze,property:r,uid:n},this.childOrigin)})}call(r,e){this.child.postMessage({postmate:"call",type:ze,property:r,data:e},this.childOrigin)}on(r,e){this.events[r]||(this.events[r]=[]),this.events[r].push(e)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class Re{constructor(r){L(this,"model");L(this,"parent");L(this,"parentOrigin");L(this,"child");this.model=r.model,this.parent=r.parent,this.parentOrigin=r.parentOrigin,this.child=r.child,this.child.addEventListener("message",e=>{if(!ct(e,this.parentOrigin))return;const{property:n,uid:a,data:c}=e.data;e.data.postmate!=="call"?((f,b)=>{const k=typeof f[b]=="function"?f[b]():f[b];return Promise.resolve(k)})(this.model,n).then(f=>{e.source.postMessage({property:n,postmate:"reply",type:ze,uid:a,value:f},e.origin)}):n in this.model&&typeof this.model[n]=="function"&&this.model[n](c)})}emit(r,e){this.parent.postMessage({postmate:"emit",type:ze,value:{name:r,data:e}},this.parentOrigin)}}class et{constructor(r){L(this,"container");L(this,"parent");L(this,"frame");L(this,"child");L(this,"childOrigin");L(this,"url");L(this,"model");this.container=r.container,this.url=r.url,this.parent=window,this.frame=document.createElement("iframe"),r.id&&(this.frame.id=r.id),r.name&&(this.frame.name=r.name),this.frame.classList.add.apply(this.frame.classList,r.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=r.model||{}}sendHandshake(r){const e=(c=>{const f=document.createElement("a");f.href=c;const b=f.protocol.length>4?f.protocol:window.location.protocol,k=f.host.length?f.port==="80"||f.port==="443"?f.hostname:f.host:window.location.host;return f.origin||`${b}//${k}`})(r=r||this.url);let n,a=0;return new Promise((c,f)=>{const b=S=>!!ct(S,e)&&(S.data.postmate==="handshake-reply"?(clearInterval(n),this.parent.removeEventListener("message",b,!1),this.childOrigin=S.origin,c(new Mt(this))):f("Failed handshake"));this.parent.addEventListener("message",b,!1);const k=()=>{a++,this.child.postMessage({postmate:"handshake",type:ze,model:this.model},e),a===5&&clearInterval(n)};this.frame.addEventListener("load",()=>{k(),n=setInterval(k,500)}),this.frame.src=r})}destroy(){this.frame.parentNode.removeChild(this.frame)}}L(et,"debug",!1),L(et,"Model");class nr{constructor(r){L(this,"child");L(this,"model");L(this,"parent");L(this,"parentOrigin");this.child=window,this.model=r,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((r,e)=>{const n=a=>{if(a.data.postmate){if(a.data.postmate==="handshake"){this.child.removeEventListener("message",n,!1),a.source.postMessage({postmate:"handshake-reply",type:ze},a.origin),this.parentOrigin=a.origin;const c=a.data.model;return c&&Object.keys(c).forEach(f=>{this.model[f]=c[f]}),r(new Re(this))}return e("Handshake Reply Failed")}};this.child.addEventListener("message",n,!1)})}}var or=G(729),zt=G.n(or);const{importHTML:tt,createSandboxContainer:br}=window.QSandbox||{};function ir(t,r){return t.startsWith("http")?fetch(t,r):(t=t.replace("file://",""),new Promise(async(e,n)=>{try{const a=await window.apis.doAction(["readFile",t]);e({text:()=>a})}catch(a){console.error(a),n(a)}}))}class Rt extends zt(){constructor(e){super();L(this,"_pluginLocal");L(this,"_frame");L(this,"_root");L(this,"_loaded",!1);L(this,"_unmountFns",[]);this._pluginLocal=e,e._dispose(()=>{this._unmount()})}async load(){const{name:e,entry:n}=this._pluginLocal.options;if(this.loaded||!n)return;const{template:a,execScripts:c}=await tt(n,{fetch:ir});this._mount(a,document.body);const f=br(e,{elementGetter:()=>{var k;return(k=this._root)==null?void 0:k.firstChild}}).instance.proxy;f.__shadow_mode__=!0,f.LSPluginLocal=this._pluginLocal,f.LSPluginShadow=this,f.LSPluginUser=f.logseq=new K(this._pluginLocal.toJSON(),this._pluginLocal.caller);const b=await c(f,!0);this._unmountFns.push(b.unmount),this._loaded=!0}_mount(e,n){const a=this._frame=document.createElement("div");a.classList.add("lsp-shadow-sandbox"),a.id=this._pluginLocal.id,this._root=a.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${e}</div>`,n.appendChild(a),this.emit("mounted")}_unmount(){for(const e of this._unmountFns)e&&e.call(null)}destroy(){var e,n;(n=(e=this.frame)==null?void 0:e.parentNode)==null||n.removeChild(this.frame)}get loaded(){return this._loaded}get document(){var e;return(e=this._root)==null?void 0:e.firstChild}get frame(){return this._frame}}const Fe=Nt()("LSPlugin:caller"),ut="#await#response#",ar="#lspmsg#error#",Be=t=>`#lspmsg#${t}`;class Dt extends zt(){constructor(e){super();L(this,"_pluginLocal");L(this,"_connected",!1);L(this,"_parent");L(this,"_child");L(this,"_shadow");L(this,"_status");L(this,"_userModel",{});L(this,"_call");L(this,"_callUserModel");L(this,"_debugTag","");this._pluginLocal=e,e&&(this._debugTag=e.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:e}=this._pluginLocal;e?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(e={}){var me;if(this._connected)return;const n=this,a=this._pluginLocal!=null;let c=0;const f=new Map,b=Me(6e4),k=this._extendUserModel({"#lspmsg#ready#":async $=>{k[Be($==null?void 0:$.pid)]=({type:M,payload:B})=>{Fe(`[host (_call) -> *user] ${this._debugTag}`,M,B),n.emit(M,B)},await b.resolve()},"#lspmsg#beforeunload#":async $=>{const M=Me(1e4);n.emit("beforeunload",Object.assign({actor:M},$)),await M.promise},"#lspmsg#settings#":async({type:$,payload:M})=>{n.emit("settings:changed",M)},"#lspmsg#":async({ns:$,type:M,payload:B})=>{Fe(`[host (async) -> *user] ${this._debugTag} ns=${$} type=${M}`,B),$&&$.startsWith("hook")?n.emit(`${$}:${M}`,B):n.emit(M,B)},"#lspmsg#reply#":({_sync:$,result:M})=>{if(Fe(`[sync host -> *user] #${$}`,M),f.has($)){const B=f.get($);B&&(M!=null&&M.hasOwnProperty(ar)?B.reject(M[ar]):B.resolve(M),f.delete($))}},...e});if(a)return await b.promise,JSON.parse(JSON.stringify((me=this._pluginLocal)==null?void 0:me.toJSON()));const S=new nr(k).sendHandshakeReply();return this._status="pending",await S.then($=>{this._child=$,this._connected=!0,this._call=async(M,B={},ee)=>{if(ee){const oe=++c;f.set(oe,ee),B._sync=oe,ee.setTag(`async call #${oe}`),Fe(`async call #${oe}`)}return $.emit(Be(k.baseInfo.id),{type:M,payload:B}),ee==null?void 0:ee.promise},this._callUserModel=async(M,B)=>{try{k[M](B)}catch{Fe(`[model method] #${M} not existed`)}},setInterval(()=>{if(f.size>100)for(const[M,B]of f)B.settled&&f.delete(M)},18e5)}).finally(()=>{this._status=void 0}),await b.promise,k.baseInfo}async call(e,n={}){var a;return(a=this._call)==null?void 0:a.call(this,e,n)}async callAsync(e,n={}){var c;const a=Me(1e4);return(c=this._call)==null?void 0:c.call(this,e,n,a)}async callUserModel(e,n={}){var a;return(a=this._callUserModel)==null?void 0:a.call(this,e,n)}async _setupIframeSandbox(){var $;const e=this._pluginLocal,n=e.id,a=`${n}_lsp_main`,c=new URL(e.options.entry);c.searchParams.set("__v__",e.options.version);const f=document.querySelector(`#${a}`);f&&f.parentElement.removeChild(f);const b=document.createElement("div");b.classList.add("lsp-iframe-sandbox-container"),b.id=a,b.dataset.pid=n;try{const M=($=await this._pluginLocal._loadLayoutsData())==null?void 0:$.$$0;if(M){b.dataset.inited_layout="true";const{width:B,height:ee,left:oe,top:Y}=M;Object.assign(b.style,{width:B+"px",height:ee+"px",left:oe+"px",top:Y+"px"})}}catch(M){console.error("[Restore Layout Error]",M)}document.body.appendChild(b);const k=new et({id:n+"_iframe",container:b,url:c.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(e.toJSON()))}});let S,me=k.sendHandshake();return this._status="pending",new Promise((M,B)=>{S=setTimeout(()=>{B(new Error("handshake Timeout")),k.destroy()},4e3),me.then(ee=>{this._parent=ee,this._connected=!0,this.emit("connected"),ee.on(Be(e.id),({type:oe,payload:Y})=>{var ve;Fe("[user -> *host] ",oe,Y),(ve=this._pluginLocal)==null||ve.emit(oe,Y||{})}),this._call=async(...oe)=>{await ee.call(Be(e.id),{type:oe[0],payload:Object.assign(oe[1]||{},{$$pid:e.id})})},this._callUserModel=async(oe,Y)=>{if(oe.startsWith(ut))return await ee.get(oe.replace(ut,""));ee.call(oe,Y)},M(null)}).catch(ee=>{B(ee)}).finally(()=>{clearTimeout(S)})}).catch(M=>{throw Fe("[iframe sandbox] error",M),M}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const e=this._pluginLocal,n=this._shadow=new Rt(e);try{this._status="pending",await n.load(),this._connected=!0,this.emit("connected"),this._call=async(a,c={},f)=>{var b;return f&&(c.actor=f),(b=this._pluginLocal)==null||b.emit(a,Object.assign(c,{$$pid:e.id})),f==null?void 0:f.promise},this._callUserModel=async(...a)=>{let c=a[0];c!=null&&c.startsWith(ut)&&(c=c.replace(ut,""));const f=a[1]||{},b=this._userModel[c];typeof b=="function"&&await b.call(null,f)}}catch(a){throw Fe("[shadow sandbox] error",a),a}finally{this._status=void 0}}_extendUserModel(e){return Object.assign(this._userModel,e)}_getSandboxIframeContainer(){var e;return(e=this._parent)==null?void 0:e.frame.parentNode}_getSandboxShadowContainer(){var e;return(e=this._shadow)==null?void 0:e.frame.parentNode}_getSandboxIframeRoot(){var e;return(e=this._parent)==null?void 0:e.frame}_getSandboxShadowRoot(){var e;return(e=this._shadow)==null?void 0:e.frame}set debugTag(e){this._debugTag=e}async destroy(){let e=null;this._parent&&(e=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(e=this._getSandboxShadowContainer(),this._shadow.destroy()),e==null||e.parentNode.removeChild(e)}}class yr{constructor(r){L(this,"ctx");this.ctx=r}get ctxId(){return this.ctx.baseInfo.id}setItem(r,e){return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,r,e]})}getItem(r){return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,r]})}removeItem(r){return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,r]})}clear(){return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId]})}hasItem(r){return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,r]})}}class Ne{constructor(r){L(this,"ctx");this.ctx=r}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(r,...e){var a,c;const n=this.ensureHostScope();return r=(a=Xe(r))==null?void 0:a.toLowerCase(),(c=n.logseq.api["exper_"+r])==null?void 0:c.apply(n,e)}async loadScripts(...r){(r=r.map(e=>e!=null&&e.startsWith("http")?e:this.ctx.resolveResourceFullUrl(e))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...r)}registerFencedCodeRenderer(r,e){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,r,e)}registerExtensionsEnhancer(r,e){const n=this.ensureHostScope();return r==="katex"&&n.katex&&e(n.katex).catch(console.error),n.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,r,e)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}const Ut=t=>`task_callback_${t}`;class sr{constructor(r,e,n={}){L(this,"_client");L(this,"_requestId");L(this,"_requestOptions");L(this,"_promise");L(this,"_aborted",!1);this._client=r,this._requestId=e,this._requestOptions=n,this._promise=new Promise((b,k)=>{if(!this._requestId)return k(null);this._client.once(Ut(this._requestId),S=>{S&&S instanceof Error?k(S):b(S)})});const{success:a,fail:c,final:f}=this._requestOptions;this._promise.then(b=>{a==null||a(b)}).catch(b=>{c==null||c(b)}).finally(()=>{f==null||f()})}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class _t extends or.EventEmitter{constructor(e){super();L(this,"_ctx");this._ctx=e,this.ctx.caller.on("#lsp#request#callback",n=>{const a=n==null?void 0:n.requestId;a&&this.emit(Ut(a),n==null?void 0:n.payload)})}static createRequestTask(e,n,a){return new sr(e,n,a)}async _request(e){const n=this.ctx.baseInfo.id,{success:a,fail:c,final:f,...b}=e,k=this.ctx.Experiments.invokeExperMethod("request",n,b),S=_t.createRequestTask(this.ctx.Request,k,e);return b.abortable?S:S.promise}get ctx(){return this._ctx}}const vr=Symbol.for("proxy-continue"),dt=Nt()("LSPlugin:user");function xe(t,r,e){var S;if(typeof e!="function")return!1;const{key:n,label:a,desc:c,palette:f,keybinding:b}=r,k=`SimpleCommandHook${n}${++Pt}`;this.Editor["on"+k](e),(S=this.caller)==null||S.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:n,label:a,type:t,desc:c,keybinding:b},["editor/hook",k]],f]})}let ft=null;const lr={async getInfo(t){return ft||(ft=await this._execCallableAPIAsync("get-app-info")),typeof t=="string"?ft[t]:ft},registerCommand:xe,registerCommandPalette(t,r){const{key:e,label:n,keybinding:a}=t;return xe.call(this,"$palette$",{key:e,label:n,palette:!0,keybinding:a},r)},registerCommandShortcut(t,r){const{binding:e}=t,n="$shortcut$",a=n+Xe(e);return xe.call(this,n,{key:a,palette:!1,keybinding:t},r)},registerUIItem(t,r){var n;const e=this.baseInfo.id;(n=this.caller)==null||n.call("api:call",{method:"register-plugin-ui-item",args:[e,t,r]})},registerPageMenuItem(t,r){if(typeof r!="function")return!1;const e=t+"_"+this.baseInfo.id,n=t;xe.call(this,"page-menu-item",{key:e,label:n},r)},setFullScreen(t){const r=(...e)=>this._callWin("setFullScreen",...e);t==="toggle"?this._callWin("isFullScreen").then(e=>{e?r():r(!0)}):t?r(!0):r()}};let Pt=0;const cr={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(t,r){var e;dt("Register slash command #",this.baseInfo.id,t,r),typeof r=="function"&&(r=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",r]]),r=r.map(n=>{const[a,...c]=n;if(a==="editor/hook"){let f=c[0],b=()=>{var S;(S=this.caller)==null||S.callUserModel(f)};typeof f=="function"&&(b=f);const k=`SlashCommandHook${a}${++Pt}`;n[1]=k,this.Editor["on"+k](b)}return n}),(e=this.caller)==null||e.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[t,r]]})},registerBlockContextMenuItem(t,r){if(typeof r!="function")return!1;const e=t+"_"+this.baseInfo.id,n=t;xe.call(this,"block-context-menu-item",{key:e,label:n},r)},scrollToBlockInPage(t,r,e){const n="block-content-"+r;e!=null&&e.replaceState?this.App.replaceState("page",{name:t},{anchor:n}):this.App.pushState("page",{name:t},{anchor:n})}},_r={onBlockChanged(t,r){const e=this.baseInfo.id,n=`hook:db:${Xe(`block:${t}`)}`,a=({block:c,txData:f,txMeta:b})=>{c.uuid===t&&r(c,f,b)};return this.caller.on(n,a),this.App._installPluginHook(e,n),()=>{this.caller.off(n,a),this.App._uninstallPluginHook(e,n)}}},o={},C={},v={};class K extends zt(){constructor(e,n){super();L(this,"_baseInfo");L(this,"_caller");L(this,"_version","0.0.9");L(this,"_debugTag","");L(this,"_settingsSchema");L(this,"_connected",!1);L(this,"_ui",new Map);L(this,"_mFileStorage");L(this,"_mRequest");L(this,"_mExperiments");L(this,"_beforeunloadCallback");this._baseInfo=e,this._caller=n,n.on("sys:ui:visible",a=>{a!=null&&a.toggle&&this.toggleMainUI()}),n.on("settings:changed",a=>{const c=Object.assign({},this.settings),f=Object.assign(this._baseInfo.settings,a);this.emit("settings:changed",{...f},c)}),n.on("beforeunload",async a=>{const{actor:c,...f}=a,b=this._beforeunloadCallback;try{b&&await b(f),c==null||c.resolve(null)}catch(k){console.debug(`${n.debugTag} [beforeunload] `,k),c==null||c.reject(k)}})}async ready(e,n){if(!this._connected)try{typeof e=="function"&&(n=e,e={});let a=await this._caller.connectToParent(e);this._connected=!0,a=lt(this._baseInfo,a),this._settingsSchema&&(a.settings=function(c,f){const b=(f||[]).reduce((k,S)=>("default"in S&&(k[S.key]=S.default),k),{});return Object.assign(b,c)}(a.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema)),a!=null&&a.id&&(this._debugTag=this._caller.debugTag=`#${a.id} [${a.name}]`);try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(c){console.warn(c)}n&&n.call(this,a)}catch(a){console.error(`${this._debugTag} [Ready Error]`,a)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(e){typeof e=="function"&&(this._beforeunloadCallback=e)}provideModel(e){return this.caller._extendUserModel(e),this}provideTheme(e){return this.caller.call("provider:theme",e),this}provideStyle(e){return this.caller.call("provider:style",e),this}provideUI(e){return this.caller.call("provider:ui",e),this}useSettingsSchema(e){return this.connected&&this.caller.call("settings:schema",{schema:e,isSync:!0}),this._settingsSchema=e,this}updateSettings(e){this.caller.call("settings:update",e)}onSettingsChanged(e){const n="settings:changed";return this.on(n,e),()=>this.off(n,e)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(e){this.caller.call("main-ui:attrs",e)}setMainUIInlineStyle(e){this.caller.call("main-ui:style",e)}hideMainUI(e){const n={key:0,visible:!1,cursor:e==null?void 0:e.restoreEditingCursor};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}showMainUI(e){const n={key:0,visible:!0,autoFocus:e==null?void 0:e.autoFocus};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}toggleMainUI(){const e=this._ui.get(0);e&&e.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const e=this._ui.get(0);return Boolean(e&&e.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get settings(){var e;return(e=this.baseInfo)==null?void 0:e.settings}get caller(){return this._caller}resolveResourceFullUrl(e){if(this.ensureConnected(),e)return e=e.replace(/^[.\\/]+/,""),function(n,...a){try{const c=new URL(n);if(!c.origin)throw new Error(null);const f=Ft.join(n.substr(c.origin.length),...a);return c.origin+f}catch{return Ft.join(n,...a)}}(this._baseInfo.lsr,e)}_makeUserProxy(e,n){const a=this,c=this.caller;return new Proxy(e,{get(f,b,k){const S=f[b];return function(...me){if(S){const M=S.apply(a,me.concat(n));if(M!==vr)return M}if(n){const M=b.toString().match(/^(once|off|on)/i);if(M!=null){const B=M[0].toLowerCase(),ee=M.input.slice(B.length),oe=B==="off",Y=a.baseInfo.id,ve=`hook:${n}:${Xe(ee)}`,Te=me[0];c[B](ve,Te);const rt=()=>{c.off(ve,Te),c.listenerCount(ve)||a.App._uninstallPluginHook(Y,ve)};return oe?void rt():(a.App._installPluginHook(Y,ve),rt)}}let $=b;return["git","ui","assets"].includes(n)&&($=n+"_"+$),c.callAsync("api:call",{tag:n,method:$,args:me})}}})}_execCallableAPIAsync(e,...n){return this._caller.callAsync("api:call",{method:e,args:n})}_execCallableAPI(e,...n){this._caller.call("api:call",{method:e,args:n})}_callWin(...e){return this._execCallableAPIAsync("_callMainWin",...e)}get App(){return this._makeUserProxy(lr,"app")}get Editor(){return this._makeUserProxy(cr,"editor")}get DB(){return this._makeUserProxy(_r,"db")}get Git(){return this._makeUserProxy(o,"git")}get UI(){return this._makeUserProxy(C,"ui")}get Assets(){return this._makeUserProxy(v,"assets")}get FileStorage(){let e=this._mFileStorage;return e||(e=this._mFileStorage=new yr(this)),e}get Request(){let e=this._mRequest;return e||(e=this._mRequest=new _t(this)),e}get Experiments(){let e=this._mExperiments;return e||(e=this._mExperiments=new Ne(this)),e}}function ae(t,r){return new K(t,r)}if(window.__LSP__HOST__==null){const t=new Dt(null);window.logseq=ae({},t)}})(),ke})())})(wr,wr.exports);const Cr=`.cm-s-solarized.cm-s-light{background-color:var(--ls-quaternary-background-color);text-shadow:none;color:var(--ls-secondary-text-color)}.cm-s-solarized.cm-s-dark{background-color:var(--ls-tertiary-background-color);text-shadow:none;color:var(--ls-secondary-text-color)}.extensions__code-lang,.cm-s-solarized.cm-s-light .CodeMirror-gutters{background-color:var(--ls-tertiary-background-color);text-shadow:none;color:var(--ls-primary-text-color)}.cm-s-solarized.cm-s-dark .CodeMirror-gutters{background-color:var(--ls-quaternary-background-color);text-shadow:none;color:var(--ls-secondary-text-color)}
`,Sr=`.light-theme,.white-theme,html[data-theme=light],.dark-theme,html[data-theme=dark]{--ls-tag-text-opacity: 1}a.tag[data-ref^="@"],.dark-theme a.tag[data-ref^="@"]{border-radius:15px;font-size:.7rem;padding-left:.4rem;padding-right:.5rem;opacity:.7;border:1px solid var(--ls-link-text-color);background-color:transparent!important;color:var(--ls-link-ref-text-color);font-weight:700;text-transform:capitalize;line-height:.9rem}a.tag:hover[data-ref^="@"],.dark-theme a.tag:hover[data-ref^="@"]{border-color:var(--ls-link-ref-text-hover-color);color:var(--ls-link-ref-text-hover-color);opacity:.7}
`,Or=`.light-theme,.white-theme,html[data-theme=light],.dark-theme,html[data-theme=dark]{--ls-tag-text-color: var(--ls-primary-background-color) !important;--ls-tag-text-hover-color: var(--ls-primary-background-color) !important;--ls-tag-text-opacity: 1}a.tag,.dark-theme a.tag{background-color:var(--ls-link-ref-text-color)!important;text-transform:uppercase;border-radius:15px;font-size:.7rem;padding-left:.4rem;padding-right:.5rem;font-weight:600;opacity:.7}a.tag:hover,.dark-theme a.tag:hover{background-color:var(--ls-link-ref-text-hover-color)!important;opacity:.7}
`,Ar=`.todo input,.doing input,.done input,.waiting input,.now input,.later input{height:1.1rem;width:1.1rem;border-radius:.2rem 0 0 .2rem;margin:.15rem .5rem 0 0!important;font-size:.7rem;opacity:1}.todo .block-marker,.doing .block-marker,.done .block-marker,.waiting .block-marker,.now .block-marker,.later .block-marker{background-color:var(--ls-selection-background-color);color:var(--ls-secondary-text-color);opacity:1;margin-left:-1.6rem;margin-right:.4rem;padding:.14rem .4rem .16rem 1.5rem;border-radius:.2rem;font-weight:700;font-size:.7rem;box-shadow:none}.doing .block-marker,.now .block-marker{color:var(--ls-primary-text-color)}.doing .block-marker:before,.now .block-marker:before{content:"\\25e2";font-size:1.15rem;position:absolute;left:-.05rem;top:0rem;color:#fff5}.done input{border-radius:.15rem}.waiting .block-marker{opacity:.7}.waiting input{opacity:.3}.dark-theme .block-marker{border-color:#ffffff09}.canceled,.cancelled,.done{opacity:.5}
`,Tr=`.tippy-wrapper{background-color:var(--ls-tertiary-background-color);color:var(--ls-primary-text-color);font-weight:400!important;font-size:.9rem;border-radius:6px}.tippy-tooltip{border-top:1px solid var(--ls-tertiary-border-color);border-right:1px solid var(--ls-tertiary-border-color);border-bottom:1px solid var(--ls-tertiary-border-color);border-left:1px solid var(--ls-tertiary-border-color);box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;--webkit-box-shadow: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05)}.tippy-tooltip h2{font-weight:600}
`,Er={code:Cr,tag_at:Sr,tag:Or,task:Ar,tippy:Tr},jr=`#app-container{font-weight:300}b,strong{font-weight:600}.pre-block .opacity-50,ul.namespaces,.breadcrumb,.breadcrumb b,.references .foldable-title *:not(h2),.references .initial li,.block-properties{font-size:.9rem;font-weight:400}:not(pre)>code{font-size:.8rem}.references h2{font-size:1rem}
`,Ir=`.dark-theme,html[data-theme=dark]{--ls-primary-text-color: #fffffff9;--ls-secondary-text-color: #ffffffe9}.light-theme,.white-theme,html[data-theme=light]{--ls-primary-text-color: #000000f9;--ls-secondary-text-color: #000000e9}
`,Fr=`:root{--ls-page-title-size: 2rem}h1.title{font-weight:500;line-height:1.3}.editor-inner .multiline-block:is(.h1,.h2,.h3,.h4):first-line,.editor-inner .uniline-block:is(.h1,.h2,.h3,.h4),.ls-block :is(h1,h2,h3,h4){font-weight:500}*:is(h1,h2,h3,h4,h5,h6) input{font-weight:inherit!important}*:is(.editor-inner .uniline-block.h1:not(.block-ref *),.editor-inner .h1:not(.block-ref *),.ls-block h1:not(.block-ref *)){font-size:1.7rem;line-height:1.3;margin-bottom:.4rem}*:is(.editor-inner .uniline-block.h2:not(.block-ref *),.editor-inner .h2:not(.block-ref *),.ls-block h2:not(.block-ref *)){font-size:1.55rem;line-height:1.3;margin-bottom:.35rem}*:is(.editor-inner .uniline-block.h3:not(.block-ref *),.editor-inner .h3:not(.block-ref *),.ls-block h3:not(.block-ref *)){font-size:1.3rem;line-height:1.3;margin-bottom:.3rem}*:is(.editor-inner .uniline-block.h4:not(.block-ref *),.editor-inner .h4:not(.block-ref *),.ls-block h4:not(.block-ref *)){font-size:1.1rem;line-height:1.3;margin-bottom:.25rem}*:is(.editor-inner .uniline-block.h5:not(.block-ref *),.editor-inner .h5:not(.block-ref *),.ls-block h5:not(.block-ref *)){font-size:1rem;font-weight:600;line-height:1.3;margin-bottom:.2rem}*:is(.editor-inner .uniline-block.h6:not(.block-ref *),.editor-inner .h6:not(.block-ref *),.ls-block h6:not(.block-ref *)){font-size:1rem;line-height:1.3;margin-bottom:.15rem}.editor-inner .uniline-block:is(.h1,.h2),.ls-block :is(h1,h2){border-bottom:none}
`,Nr=`:root{--ls-font-family: system-ui}
`,Lr={body:jr,color:Ir,header:Fr,system:Nr},Mr=`a.ui__modal-close svg,a.close svg{color:var(--ls-primary-text-color)}a.ui__modal-close,a.close{color:var(--ls-primary-text-color);opacity:.6}
`,zr=`a.ui__toggle .bg-indigo-600{background-color:var(--ls-page-checkbox-color)}
`,Rr=`.ls-filters .ui__button[intent=border-link]{border:none;background-color:var(--ls-border-color);opacity:.6}.ls-filters .ui__button[intent=border-link]:hover{opacity:.8;color:var(--ls-primary-text-color)}.ls-filters .cp__filters .ui__button[intent=border-link]{border:1px solid var(--ls-primary-text-color);opacity:.75}.ls-filters .cp__filters .ui__button[intent=border-link]:hover{opacity:.9}
`,Dr=`a.filter.fade-link{color:var(--ls-link-text-color)}a.filter.fade-link .text-green-400{display:block;width:1.9rem;height:1.9rem;color:var(--ls-primary-background-color);background-color:var(--ls-link-text-color);border-radius:50%;padding:.2rem;opacity:.8}
`,Ur=`.page-hierarchy h2:before{content:"Namespace pages ";color:var(--ls-primary-text-color)}.light-theme .page-hierarchy h2.font-bold.opacity-30{color:#0000}.dark-theme .page-hierarchy h2.font-bold.opacity-30{color:#fff0}
`,Pr=`.dark-theme .references h2.font-bold.opacity-80,.dark-theme .references h2.font-bold.opacity-50,.dark-theme .page-hierarchy h2.font-bold.opacity-30,.dark-theme .custom-query-title .title-text{font-size:1.2rem;font-weight:400;opacity:.7;color:var(--ls-primary-text-color)}.light-theme .references h2.font-bold.opacity-80,.light-theme .references h2.font-bold.opacity-50,.light-theme .page-hierarchy h2.font-bold.opacity-30,.light-theme .custom-query-title .title-text{font-size:1.2rem;font-weight:400;opacity:.8;color:var(--ls-primary-text-color)}
`,Hr=`.cp__header .ui-items-container .button{color:var(--ls-primary-text-color)}
`,$r=`.left-sidebar-inner{background-color:#2e3234;border-right:1px solid transparent}.dark-theme .left-sidebar-inner{background-color:#2c2d2f;border-right:1px solid #0002}.left-sidebar-inner .dropdown-wrapper{background-color:#2e3234;border:1px solid #fff2}.left-sidebar-inner .menu-links-wrapper{background-color:#2e3234;color:#bfbfbf}.dark-theme .left-sidebar-inner .dropdown-wrapper,.dark-theme .left-sidebar-inner .menu-links-wrapper{background-color:#2c2d2f}.left-sidebar-inner .menu-links-wrapper hr.menu-separator{border-color:#fff2}#left-sidebar .font-medium:not(.ui__dropdown-trigger *),#left-sidebar .text-sm li{font-weight:300;font-size:.9rem}.ls-left-sidebar-open #head>.l .button{color:#bfbfbf}.left-sidebar-inner a.menu-link:hover,.ls-left-sidebar-open #head>.l .button:hover{color:#fff;background-color:#3c4042;opacity:1}.left-sidebar-inner .new-page-link{background-color:#2e3234}.left-sidebar-inner .new-page-link:hover,.left-sidebar-inner a.item:hover:is(footer *),.left-sidebar-inner a.item:hover:is(nav *){color:#fffc;background-color:#3c4042;opacity:1}.left-sidebar-inner .new-page-link:active,.left-sidebar-inner a.item:active:is(footer *),.left-sidebar-inner a.item:active:is(nav *){color:#fff;background-color:#3c4042;opacity:1}.ls-left-sidebar-open #head>.l .button:active,.left-sidebar-inner .nav-content-item .header{margin-top:1rem;padding-left:1rem}.left-sidebar-inner .nav-content-item .header:hover{background-color:transparent}.left-sidebar-inner .nav-content-item .header .wrap-th>span{font-weight:600;font-size:.7rem}#left-sidebar .nav-content-item ul .favorite-item a:hover,.dark-theme #left-sidebar .favorites ul .favorite-item a:hover{color:gray}.left-sidebar-inner .page-icon,.left-sidebar-inner a svg{color:#908e8b}.cp__sidebar-left-layout a{color:#bfbfbf}.left-sidebar-inner .nav-content-item .bd ul li{margin-bottom:0;padding-left:.5rem;padding-right:.5rem}.left-sidebar-inner a.item:is(.ui__dropdown-trigger *){background-color:transparent;opacity:.8;padding-left:0}.font-medium:is(.left-sidebar-inner .ui__dropdown-trigger *){font-weight:600}.text-sm:is(.left-sidebar-inner .ui__dropdown-trigger *){font-size:.8rem}.left-sidebar-inner a.menu-link,.left-sidebar-inner a.item:hover:is(.ui__dropdown-trigger *){background-color:transparent;opacity:1}.left-sidebar-inner a.item:hover:is(footer *){opacity:1}.left-sidebar-inner .nav-content-item .bd ul a{color:#bfbfbf;border-radius:5px;padding:.3rem .3rem .3rem 1rem}.left-sidebar-inner a.item:not(.ui__dropdown-trigger *){padding-left:.5rem}.left-sidebar-inner .nav-content-item .bd ul a:hover,.left-sidebar-inner a.item:hover:not(.ui__dropdown-trigger *,footer *),.left-sidebar-inner a.item:active:not(.ui__dropdown-trigger *,footer *),.left-sidebar-inner a.item.active,#left-sidebar .nav-content-item ul .favorite-item a:hover,#left-sidebar .favorites ul .favorite-item a:hover{color:#fff;background-color:var(--ls-link-text-color);opacity:1}.dark-theme .left-sidebar-inner .nav-content-item .bd ul a:hover,.dark-theme .left-sidebar-inner a.item:hover:not(.ui__dropdown-trigger *,footer *),.dark-theme .left-sidebar-inner a.item:active:not(.ui__dropdown-trigger *,footer *),.dark-theme .left-sidebar-inner a.item.active,.dark-theme #left-sidebar .nav-content-item ul .favorite-item a:hover,.dark-theme #left-sidebar .favorites ul .favorite-item a:hover{color:#000;background-color:var(--ls-link-text-color);opacity:1}.left-sidebar-inner .nav-content-item .bd ul a:hover .page-icon{color:#fff}.dark-theme .left-sidebar-inner .nav-content-item .bd ul a:hover .page-icon{color:#000}
`,qr=`:root{--ls-left-sidebar-width: 280px}
`,Br=`#pdf-layout-container .extensions__pdf-toolbar,#pdf-layout-container[data-theme=light] .extensions__pdf-toolbar,#pdf-layout-container[data-theme=warm] .extensions__pdf-toolbar,#pdf-layout-container[data-theme=dark] .extensions__pdf-toolbar{background:transparent;background-image:none;top:calc(var(--ls-scrollbar-width) + .7rem);right:calc(var(--ls-scrollbar-width) + .7rem);width:unset;height:unset;padding:0;font-weight:400}#pdf-layout-container .extensions__pdf-toolbar .buttons,#pdf-layout-container[data-theme=light] .extensions__pdf-toolbar .buttons{flex-direction:column-reverse;align-items:center;border-radius:4px;background-color:#f9f9f9;padding:5px 0;color:#000}#pdf-layout-container[data-theme=warm] .extensions__pdf-toolbar .buttons{background-color:#fcf7ee;color:#50270a}#pdf-layout-container[data-theme=dark] .extensions__pdf-toolbar .buttons{background-color:#193d48;color:#fff}#pdf-layout-container .extensions__pdf-toolbar a.button svg{color:unset}#pdf-layout-container .extensions__pdf-toolbar>.inner>.r a.button{margin:0;font-size:.8rem;font-weight:700;letter-spacing:-1px}#pdf-layout-container .extensions__pdf-toolbar a.button{height:2rem;opacity:.7;color:#000;padding:2px 6px}#pdf-layout-container .extensions__pdf-toolbar .buttons>a.button:last-child{padding:0;height:1.8em}#pdf-layout-container .extensions__pdf-toolbar .buttons>div a.button{height:1.8rem;padding:0}#pdf-layout-container[data-theme=dark] .extensions__pdf-toolbar a.button{color:#fff}#pdf-layout-container[data-theme=warm] .extensions__pdf-toolbar a.button{color:#50270a}#pdf-layout-container .extensions__pdf-toolbar a.button:hover{opacity:.9}#pdf-layout-container .extensions__pdf-toolbar a.button.is-active{border:none;border-radius:6px;background-color:#0001;opacity:1}#pdf-layout-container[data-theme=dark] .extensions__pdf-toolbar a.button.is-active{background-color:#fff2}#pdf-layout-container .extensions__pdf-toolbar .buttons>.pager{flex-direction:column}#pdf-layout-container .extensions__pdf-toolbar .ml-1{margin:0}#pdf-layout-container .extensions__pdf-toolbar>.inner .pager>.nu{padding:4px 2px}#pdf-layout-container .extensions__pdf-toolbar>.inner .pager>.nu input{width:1.5em;font-size:small;line-height:1em;text-align:center;border-radius:2px;padding:0;background-color:#0001;color:#000}#pdf-layout-container[data-theme=warm] .extensions__pdf-toolbar>.inner .pager>.nu input{color:#50270a;background-color:#0001}#pdf-layout-container[data-theme=dark] .extensions__pdf-toolbar>.inner .pager>.nu input{color:#fff;background-color:#fff2}#pdf-layout-container .hls-popup-wrap{top:12px}#pdf-layout-container .extensions__pdf-outline{right:4em}#pdf-layout-container .extensions__pdf-settings-inner.hls-popup-box{top:19em;right:4em}#pdf-layout-container .extensions__pdf-outline,#pdf-layout-container .extensions__pdf-settings{color:#000d}
`,Gr=`.light-theme,.white-theme,html[data-theme=light],.dark-theme,html[data-theme=dark]{--ls-scrollbar-background-color: transparent}::-webkit-scrollbar-thumb{border-radius:var(--ls-scrollbar-width)}
`,Wr={close:Mr,element:zr,filter_chips:Rr,filter_icon:Dr,header_namespace:Ur,header:Pr,icon:Hr,left_bear:$r,left_size:qr,pdf:Br,scroll:Gr},Jr={content:Er,font:Lr,ui:Wr},Zr=[{key:"content/tag",title:"Tags as rounded chips",description:"Display tags as chips with rounded sides, background color, and uppercase.",type:"boolean",default:!1},{key:"content/tag_at",title:"@-tags as hollow, rounded chips",description:'Display tags starting with at "@" as chips with a rounded border and capitalised.',type:"boolean",default:!1},{key:"content/task",title:"Tasks as chips",description:"Display tasks as a chip togheter with its label.",type:"boolean",default:!1},{key:"content/code",title:"Code background",description:"Use standard background colors for code blocks.",type:"boolean",default:!1},{key:"content/tippy",title:"Tippy window",description:"Make the tippy/hover window look more like the rest of the content.",type:"boolean",default:!1},{key:"font/system",title:"System font",description:"Use the system's default font family for text and UI.",type:"boolean",default:!1},{key:"font/header",title:"Smaller headings",description:"Display page title and headings with smaller font size.",type:"boolean",default:!1},{key:"font/body",title:"Thinner text",description:"Change the regular text to font weight 300, and bold text to 500.",type:"boolean",default:!1},{key:"font/color",title:"Font color",description:"Use black or white color for the default font, to increase contrast.",type:"boolean",default:!1},{key:"ui/left_bear",title:"Always dark sidebar",description:"Use a dark left sidebar for both light and dark themes, in the style of the Bear app.",type:"boolean",default:!1},{key:"ui/left_size",title:"Sidebar width",description:"Set the with of the left sidebar to 280 px.",type:"boolean",default:!1},{key:"ui/icon",title:"Icons color",description:"Make all header icons have the same color.",type:"boolean",default:!1},{key:"ui/header",title:"UI headings",description:"Set the same font for References, Hierarchy, and Custom query titles.",type:"boolean",default:!1},{key:"ui/header_namespace",title:'Hack rename "Hierarchies"',description:'A hack to rename the "Hierarchies" heading to "Namespace pages".',type:"boolean",default:!1},{key:"ui/close",title:"Close button color",description:"Make the close buttons less eye-catching.",type:"boolean",default:!1},{key:"ui/element",title:"UI toggle color",description:"Make UI toggles use the standard variable for checkboxes.",type:"boolean",default:!1},{key:"ui/scroll",title:"iOS style scrollbars",description:"Scrollbars with no background and rounded corners.",type:"boolean",default:!1},{key:"ui/pdf",title:"PDF view toolbar",description:"Restyle the PDF view toolbar: icons more protruding, vertical toolbar direction.",type:"boolean",default:!1},{key:"ui/filter_icon",title:"Filter icon",description:"Use prominent, standard colors on inactive and active filter button.",type:"boolean",default:!1},{key:"ui/filter_chips",title:"Filter chips",description:"Replace border with background color on filter chips.",type:"boolean",default:!1},{key:"all",title:"All style tweaks",description:"Merged CSS for all active style tweaks.",type:"string",default:""}],Kr=()=>{logseq.useSettingsSchema(Zr),Vr()},Vr=async()=>{let ie="";for(let re in logseq.settings)if(re.indexOf("/")!=-1&&logseq.settings[re]===!0){const Ee=re.split("/"),De=Jr[Ee[0]][Ee[1]];ie=ie+De}ie=ie.replace(/(\r\n|\n|\r)/gm,""),logseq.provideStyle(ie),logseq.updateSettings({all:ie})};logseq.ready(Kr).catch(console.error);
